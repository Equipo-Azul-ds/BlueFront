flutter run -d chrome --web-browser-flag="--disable-web-security" --web-browser-flag="--user-data-dir=%TEMP%\\flutter_web_profile"

Based on the document provided, here is the organized and readable text version of the API ÚNICA (Proyecto Kahoot) documentation for Epica 5.

---

# API ÚNICA - Proyecto Kahoot

## Épica 5: Modos de Juego Asíncrono y Solitario

### User Stories (Historias de Usuario)

 
H5.1: Como usuario, quiero poder jugar un Quiz en modo solitario. 


 
H5.2: Como usuario, quiero que la aplicación guarde el progreso de mis quizes asíncronos no completados. 


 
H5.3: Como usuario, quiero poder continuar un quiz no completado desde donde lo deje. 


 
H5.4: Como usuario quiero poder ver mi resultado final al completar un quiz solitario. 


 
H5.5: Como usuario quiero ver feedback en vivo después de responder cada pregunta en un quiz solitario. 



---

### 1. Iniciar un Nuevo Kahoot en Modo Solitario (H5.1)

Propósito: Inicia un nuevo intento de juego en modo singleplayer para el usuario autenticado. Crea el registro en estado IN_PROGRESS y devuelve la primera slide. 

 
Método HTTP: POST 


 
Request Path: /attempts (Requiere kahootId en el body). 


 
Headers: Authorization: Bearer <accessToken> 


 Request Body: json
{ "kahootId": "uuid" }





 
Response (201 Created): Retorna el ID del intento y el primer slide. 


 
Esqueleto JSON (Response): 


json
{
  "attemptId": "uuid-attempt-123",
  "firstSlide": {
    "slideId": "uuid-slide-abc",
    "questionType": "Enum question_type",
    "questionText": "...",
    "timeLimitSeconds": 30,
    "mediaID": "String (URL) | Null",
    "options": [
      { "index": "1", "text": "Paris", "mediaID": "URL | Null" },
      { "index": "2", "text": "London", "mediaID": "URL | Null" }
    ]
  }
}




 
Errores:  401 Unauthorized: Usuario no autenticado. 


 
404 Not Found: Kahoot no existe o es privado. 





---

### 2. Obtener Estado Actual / Reanudar Intento (H5.2)

Propósito: Permite consultar el estado de un intento o reanudar una sesión pausada. 

 
Método HTTP: GET 


 
Request Path: /attempts/:attemptId 


 
Nota: Si se pierde el attemptId, se puede recuperar mediante GET kahoots/inspect/:kahootid. 


 
Response (200 OK): Estado del intento, progreso y próximo slide. 


 
Esqueleto JSON (Response): 


json
{
  "attemptId": "uuid-attempt-123",
  "state": "IN_PROGRESS",
  "currentScore": 500,
  "nextSlide": {
    "slideId": "uuid-slide-xyz",
    "mediaID": "URL | Null",
    "questionType": "Enum",
    "questionText": "...",
    "timeLimitSeconds": 30,
    "options": [...]
  }
}





---

### 3. Enviar Respuesta y Avanzar (H5.3)

Propósito: Registra y evalúa la respuesta, actualiza el puntaje y devuelve el feedback inmediato (si fue correcta y puntos ganados). 

 
Método HTTP: POST 


 
Request Path: /attempts/:attemptId/answer 


 
Request Body: 


json
{
  "slideId": "uuid-slide-xyz",
  "answerIndex": "1",
  "timeElapsedSeconds": 12
}




 
Response (200 OK): 


json
{
  "wasCorrect": true,
  "pointsEarned": 900,
  "updatedScore": 1400,
  "attemptState": "COMPLETED | IN_PROGRESS",
  "nextSlide": { ... }
}




 
Errores: 400 Bad Request (Slide ya respondida) or 404 Not Found. 



---

### 4. Obtener Resumen del Intento (H5.4)

Propósito: Obtener resultados finales (puntuación total, aciertos y porcentaje). 

 
Método HTTP: GET 


 
Request Path: /attempts/:attemptId/summary 


 
Response (200 OK): 


json
{
  "attemptId": "uuid-attempt-123",
  "finalScore": 1800,
  "totalCorrect": 8,
  "totalQuestions": 10,
  "accuracyPercentage": 80
}




 
Errores: 400 Bad Request si el intento no ha sido completado. 



---

### Estados del Juego (Modo Solitario)

| Estado | Propósito | Transición |
| --- | --- | --- |
| IN_PROGRESS | El jugador ha iniciado y tiene preguntas pendientes. 

 | → COMPLETED (al responder todas). 

 |
| COMPLETED | El jugador finalizó todas las preguntas. 

 | Solo permite consultar el resumen. 

 |

Nota General: Al concluir un juego, el progreso se resetea y se puede repetir desde cero. 

---
